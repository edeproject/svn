#
# $Id$
#
# Part of Equinox Desktop Environment (EDE).
# Copyright (c) 2000-2007 EDE Authors.
#
# This program is licenced under terms of the 
# GNU General Public Licence version 2 or newer.
# See COPYING for details.

SubDir TOP etip ;

SOURCE = Fortune.cpp etip.cpp ;

EdeProgram etip : $(SOURCE) ;
TranslationStrings  locale : $(SOURCE) ;
EdeManual doc/etip.txt : doc/etip.jpg ;

ProgramBare etip-compiler : etip-compiler.c ;

# this rule is for compiling fortune files
rule FortuneCompile
{
	Depends $(<) : etip-compiler ;
	Depends $(<) : $(>) ;
	Depends all : $(<) ;

	SEARCH on $(>) = $(SUBDIR) ;
	MakeLocate $(<) : $(SUBDIR) ;

	FortuneCompile1 $(<) : $(>) ;
	Clean clean : $(<) ;
}

actions FortuneCompile1
{
	$(TOP)/etip/etip-compiler "$(>)" "$(<)"
}

FortuneCompile tips/ede.dat      : tips/ede ;
